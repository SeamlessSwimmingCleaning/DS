<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=320">
    <style>
        /* Pastel Palette */
        body { 
            margin: 0; background: #222; color: #444; 
            font-family: monospace; overflow-x: hidden;
        }
        .top-screen { 
            width: 320px; height: 212px; 
            background: #fdfcf0; border-bottom: 4px solid #7d6e83; 
            position: relative; overflow: hidden;
        }
        .bottom-screen { 
            width: 320px; height: 240px; 
            background: #e8f4f8; 
        }

        /* Windows */
        .win { display: none; padding: 10px; height: 100%; box-sizing: border-box; }
        .active { display: block; }

        /* Buttons */
        .menu { display: block; width: 100%; text-align: center; padding: 5px 0; }
        .btn { 
            display: inline-block; background: #ffdfba; 
            border: 2px solid #7d6e83; padding: 5px; 
            margin: 2px; font-size: 10px; font-weight: bold;
        }
        
        /* Games */
        canvas { background: #000; display: block; margin: 0 auto; border: 1px solid #7d6e83; }
        .shop-area { font-size: 10px; text-align: center; margin-top: 5px; }
    </style>
</head>
<body>

<div class="top-screen">
    <div id="w1" class="win active">
        <b style="font-size:10px;">NOTEPAD</b><hr>
        <div id="note-out">System Ready...</div>
    </div>

    <div id="w2" class="win">
        <canvas id="canvas" width="160" height="100"></canvas>
        <div style="font-size:10px; text-align:center;">
            Score: <span id="s1">0</span> | Best: <span id="s2">0</span>
        </div>
    </div>

    <div id="w3" class="win" style="text-align:center;">
        <h2 id="clicks">0</h2>
        <div style="width:30px; height:30px; background:#ffb7b2; margin:0 auto; border-radius:50%;"></div>
        <div class="shop-area">Autos: <span id="autos">0</span></div>
    </div>
</div>

<div class="bottom-screen">
    <div class="menu">
        <div class="btn" onclick="go('w1')">TEXT</div>
        <div class="btn" onclick="go('w2')">SNAKE</div>
        <div class="btn" onclick="go('w3')">CLICK</div>
    </div>

    <div style="text-align:center;">
        <button class="btn" style="width:50px;" onclick="dir(0,-1)">UP</button><br>
        <button class="btn" style="width:40px;" onclick="dir(-1,0)">L</button>
        <button class="btn" style="width:60px;" onclick="act()">OK / TAP</button>
        <button class="btn" style="width:40px;" onclick="dir(1,0)">R</button><br>
        <button class="btn" style="width:50px;" onclick="dir(0,1)">DOWN</button>
    </div>

    <input type="text" id="in" placeholder="Type here..." oninput="sync()" style="width:80%; margin:10px 10%;">
    
    <div id="shop" style="display:none; text-align:center;">
        <button class="btn" onclick="buy()">Buy Auto (10 pts)</button>
    </div>
</div>

<script>
    var cur = 'w1';
    var pts = 0;
    var auto = 0;
    var hi = 0;

    function go(id) {
        document.getElementById('w1').className = 'win';
        document.getElementById('w2').className = 'win';
        document.getElementById('w3').className = 'win';
        document.getElementById(id).className = 'win active';
        document.getElementById('shop').style.display = (id=='w3') ? 'block' : 'none';
        cur = id;
        if(id=='w2') start();
    }

    function sync() { document.getElementById('note-out').innerHTML = document.getElementById('in').value; }

    function act() {
        if(cur == 'w3') { pts++; up(); }
    }

    function buy() {
        if(pts >= 10) { pts -= 10; auto++; up(); }
    }

    function up() {
        document.getElementById('clicks').innerHTML = Math.floor(pts);
        document.getElementById('autos').innerHTML = auto;
    }

    setInterval(function(){ if(auto>0){ pts += (auto*0.1); up(); } }, 100);

    // SNAKE
    var c = document.getElementById("canvas"), x = c.getContext("2d");
    var s, f, vx, vy, iv;

    function dir(nx,ny) { vx=nx; vy=ny; }

    function start() {
        if(iv) clearInterval(iv);
        s = [{x:8,y:5}]; f = {x:12,y:5}; vx=1; vy=0;
        iv = setInterval(function() {
            var h = {x: s[0].x+vx, y: s[0].y+vy};
            if(h.x<0||h.x>=20||h.y<0||h.y>=12.5) { 
                if(s.length-1 > hi) hi = s.length-1;
                document.getElementById('s2').innerHTML = hi;
                start(); return; 
            }
            s.unshift(h);
            if(h.x==f.x && h.y==f.y) {
                f = {x: Math.floor(Math.random()*19), y: Math.floor(Math.random()*11)};
                document.getElementById('s1').innerHTML = s.length-1;
            } else { s.pop(); }
            x.fillStyle="#000"; x.fillRect(0,0,160,100);
            x.fillStyle="#b8e994"; for(var i=0;i<s.length;i++) x.fillRect(s[i].x*8,s[i].y*8,7,7);
            x.fillStyle="#ffb7b2"; x.fillRect(f.x*8,f.y*8,7,7);
        }, 200);
    }
</script>

</body>
</html>
